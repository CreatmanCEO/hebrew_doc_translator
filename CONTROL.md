# Переводчик документов с иврита - Журнал контроля разработки

## Описание проекта
Веб-приложение для перевода документов с иврита на русский и английский языки с сохранением оригинального форматирования и обработкой смешанного контента.

## Статус проекта
**Текущий этап:** Настройка CI/CD с GitHub Actions  
**Последнее обновление:** 27.01.2025  
**Статус разработки:** В активной разработке

## Изменения и задачи

### Последние изменения (27.01.2025)
1. Исправление ошибок для CI/CD:
   - ✓ Исправлен синтаксис template literals в server/index.js
   - ⧖ Исправление 'Bull' в translate.js
   - ⧖ Исправление импортов в documentProcessor.js
   - ⧖ Исправление остальных ошибок линтера

2. Планируемые задачи:
   - Настройка GitHub Actions workflow
   - Добавление автоматических тестов
   - Настройка автоматического деплоя

### Предыдущие изменения (26.01.2025)
- Инициализация проекта
- Базовая структура документа
- Настройка процесса разработки

## Архитектура проекта

### Backend (Node.js + Express)
#### Core Services
- DocumentAnalyzer - анализ документов
- LayoutExtractor - извлечение разметки
- TextExtractor - извлечение текста и OCR
- Translator - перевод текста
- DocumentGenerator - генерация документов

#### API Endpoints
- POST /api/translate
- GET /api/status/:jobId
- GET /api/download/:jobId

### Frontend (React)
#### Компоненты
- DocumentUpload - загрузка файлов
- DocumentPreview - предпросмотр
- TranslationProgress - отслеживание прогресса

## Процесс CI/CD (В разработке)
### Линтинг и тесты
- ESLint для проверки кода
- Jest для модульных тестов
- Vitest для интеграционных тестов
- Playwright для e2e тестов

### GitHub Actions Workflow (Планируется)
1. Проверка кода:
   - Запуск линтера
   - Проверка типов
   - Модульные тесты
2. Сборка проекта
3. Интеграционные тесты
4. Деплой (если все тесты прошли)

## Текущие проблемы линтера
1. server/index.js: ✓ Исправлено
2. server/api/translate.js: 'Bull' не определен
3. server/documentProcessor.js: проблемы импорта
4. server/services/*: неиспользуемые переменные

## Зависимости
### Основные
- Node.js >= 18.0.0
- Redis для очередей
- bull для обработки задач
- express-rate-limit
- multer
- socket.io
- mammoth
- pdf.js-extract
- @azure/ai-translator

### Разработка
- eslint + конфигурации
- prettier
- jest/vitest
- testcontainers
- github actions

## Развертывание
1. Клонировать репозиторий
2. Установить зависимости: `npm install`
3. Настроить .env
4. Запустить: `npm run dev:full`

## Известные проблемы
1. Ограничения на размер файлов (10MB)
2. Требования к качеству сканов
3. Время обработки больших документов